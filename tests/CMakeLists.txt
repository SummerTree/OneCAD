# OneCAD Tests
enable_testing()

# OCAF Prototype
add_executable(proto_tnaming prototypes/proto_tnaming.cpp)
target_link_libraries(proto_tnaming 
    PRIVATE 
    ${OpenCASCADE_LIBRARIES}
)
target_include_directories(proto_tnaming PRIVATE ${OpenCASCADE_INCLUDE_DIR})

# Custom Map Prototype
add_executable(proto_custom_map prototypes/proto_custom_map.cpp)
target_link_libraries(proto_custom_map 
    PRIVATE 
    ${OpenCASCADE_LIBRARIES}
)
target_include_directories(proto_custom_map PRIVATE ${OpenCASCADE_INCLUDE_DIR} ${CMAKE_SOURCE_DIR}/src)

# ElementMap Rigorous Tests
add_executable(proto_elementmap_rigorous prototypes/proto_elementmap_rigorous.cpp)
target_link_libraries(proto_elementmap_rigorous
    PRIVATE
    ${OpenCASCADE_LIBRARIES}
)
target_include_directories(proto_elementmap_rigorous PRIVATE ${OpenCASCADE_INCLUDE_DIR} ${CMAKE_SOURCE_DIR}/src)

# Sketch Geometry Prototype
add_executable(proto_sketch_geometry prototypes/proto_sketch_geometry.cpp)
target_link_libraries(proto_sketch_geometry
    PRIVATE
    onecad_core
)
target_include_directories(proto_sketch_geometry PRIVATE ${CMAKE_SOURCE_DIR}/tests)

# Sketch Constraints Prototype
add_executable(proto_sketch_constraints prototypes/proto_sketch_constraints.cpp)
target_link_libraries(proto_sketch_constraints
    PRIVATE
    onecad_core
)
target_include_directories(proto_sketch_constraints PRIVATE ${CMAKE_SOURCE_DIR}/tests)

# Sketch Solver Adapter Prototype
add_executable(proto_sketch_solver prototypes/proto_sketch_solver.cpp)
target_link_libraries(proto_sketch_solver
    PRIVATE
    onecad_core
)
target_include_directories(proto_sketch_solver PRIVATE ${CMAKE_SOURCE_DIR}/tests)

# PlaneGCS Integration Prototype
add_executable(proto_planegcs_integration prototypes/proto_planegcs_integration.cpp)
target_link_libraries(proto_planegcs_integration
    PRIVATE
    planegcs
)

# Loop Detector Prototype
add_executable(proto_loop_detector prototypes/proto_loop_detector.cpp)
target_link_libraries(proto_loop_detector
    PRIVATE
    onecad_core
)

# Face Builder Prototype
add_executable(proto_face_builder prototypes/proto_face_builder.cpp)
target_link_libraries(proto_face_builder
    PRIVATE
    onecad_core
)

# Viewport Compilation Test
add_executable(test_compile test_compile.cpp)
target_link_libraries(test_compile
    PRIVATE
    onecad_app
    onecad_ui
    Qt6::Widgets
    Qt6::Gui
    Qt6::Core
    Qt6::OpenGL
    Qt6::OpenGLWidgets
)
target_include_directories(test_compile PRIVATE ${CMAKE_SOURCE_DIR}/src)
